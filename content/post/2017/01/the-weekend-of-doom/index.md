---
title: "The weekend of doom"
date: "2017-01-16"
categories: 
  - "journal-dev"
  - "reflection"
  - "web-dev"
tags: 
  - "button"
  - "css"
  - "design"
  - "github"
  - "images"
  - "interactive"
  - "svg"
---

In [my last entry](http://fionamacneill.co.uk/blog/2017/01/12/final-meeting-with-stakeholder/) I talked about the suggestions that Theo provided from his perspective as a nurse and researcher. They were very helpful, but lead to some rather major layout changes. In particular, the _to do_: "**I will need more space in the carousel/timeline".** This led to what I nicknamed in my GitHub posts as the _Weekend of Hell_, I am softening this within the context of this journal entry to be the _Weekend of Doom_. \[caption id="attachment\_381" align="alignright" width="288"\][![Screenshot showing site pre-14th of Jan](images/precarousel.png)](http://fionamacneill.co.uk/blog/2017/01/16/the-weekend-of-doom/precarousel/) An image showing how the site looked prior to the changes to the carousel.\[/caption\] **Altering the Flickity Carousel/Timeline** So changing the height of the Flickity carousel used for the patient timeline meant that the "dot" buttons had to be moved upwards otherwise they would be off the bottom of the visible area on most standard screen sizes. For reference, I have included a long screenshot that I made of the site prior to this work, on the right. So I decided that the dots should reside on-top of the carousel and then they would also be spatially connected to the navigation of the timeline. This is not really how Flickity carousels are really designed to exist (metafizzy, 2016), but it is closer to the original inspiration for my site the DuckDuckGo about page (DuckDuckGo, 2014). The main issue that I ran into was that the carousel needed to resize itself dynamically and I had media queries which hid the dots on mobile devices (as they were no longer very useful as buttons at that size). However, as the dots themselves are rendered automatically by the JavaScript, they were rendering much more quickly than the resizing. So I upon sizing-up a responsive browser window the dots and timeline appeared on top of everything and looked awful. I tried everything I could think of to fix this issue. I attempted to delay the dots in the JavaScript. I also tried writing a script which watched for the window size. I tried positioning the dots so that they moved upwards. I also tried creating condition code which watched for various conditions to be met prior to triggering the dots. Things I wrote worked to an extent, but not sufficiently or reliably enough to depend on them. In the end I had to temporarily hide the dots by setting them and the timeline to 'display: none'. I also had to hide the spot where they generated by moving the about section upwards. Essentially the solution's analogue equivalent is that the rabbit is being hidden in a compartment of the hat the whole time (oh wait...is that how they do it?). **Performance Issues** I am actually grateful that all of this happened as once I had cracked the rendering issue I realised that there were some major performance issues with the carousel/timeline. It took a bit of time to get to the bottom of it,Â  but in the end I realised that it was the long svg that I had included to indicate the patient's anxiety levels. Through testing in multiple browsers, on Mac, PC and mobile I realised that the image also wasn't loading anywhere other than in Chrome for Mac. Everywhere it was just gumming up the works. I reassessed the need for the anxiety level gauge/image and decided that it was important to keep it. So through trial and error I ended up loading with an image tag in the html as a very, very long svg. This is the only svg in the site that I could not optimise as it resulted in optimisation errors because it was too long dimensions-wise. Also, I realised that I did not really want to optimise it as I would result in losing the drop shadow detail which I had added to a new version of the design.

### **The new design**

The performance issues highlighted that the design of the patient anxiety-level link was in fact creating an optical illusion and making the carousel look guddery/jerky even once the problems with it were fixed. The new design not only looked more streamlined, but it _moved_ more smoothly simply by virtue of its aesthetics. \[caption id="attachment\_384" align="alignnone" width="300"\][![Screenshot showing the original flickity anxiety level image which was a series of coloured bars](images/Screen-Shot-2017-01-17-at-14.41.34-300x142.png)](http://fionamacneill.co.uk/blog/2017/01/16/the-weekend-of-doom/screen-shot-2017-01-17-at-14-41-34/) Version 1 - This screenshot deliberately shows the progress between two slides. This version of the anxiety level image had a visual effect akin to passing a row of trees with bright light behind them. It became very jarring when viewed at-speed\[/caption\] \[caption id="attachment\_385" align="alignnone" width="300"\][![Screenshot showing the second version of the patient anxiety level image this looks more like a wobbly graph line](images/Screen-Shot-2017-01-17-at-21.53.02-300x171.png)](http://fionamacneill.co.uk/blog/2017/01/16/the-weekend-of-doom/screen-shot-2017-01-17-at-21-53-02/) Version 2: I created a long svg in Adobe Illustrator with a greater level of logic. Attempting to map the story thematically to a graphical interpretation of the patient stress levels. This link is on the one-hand more graph-like but also more oraganic as I made it from scratch by drawing and manipulating a continuous line...Can you tell I went to art school?\[/caption\]

### **Space economy**

This entry represents the end of a period where I added a lot of content to the site. This was a good thing, but it also meant that there were areas that felt overly heavy like the devices area. I decided to try adding a collapsible accordion as a container for the information, using a tutorial from Codrops (Mary Lou, 2012). The tutorial was bit old but I liked how it used CSS and I felt that I could build on it. The accordion looked quite nice too, I'm sure that you can sense a 'but...' coming on here? Well I will explain it in the next journal entry. I have however included a screenshot the accordion so that it can live on it perpetuity. \[caption id="attachment\_386" align="alignnone" width="300"\][![Screenshot showing collapsible accordion sections of the site](images/Screen-Shot-2017-01-19-at-23.28.05-300x286.png)](http://fionamacneill.co.uk/blog/2017/01/16/the-weekend-of-doom/screen-shot-2017-01-19-at-23-28-05/) This is where I got to with them. Partially styled, but a nice efficient use of space. I would have added svg "+"s on the right to indicate their interactivity.\[/caption\]

### The contact form actually works now

[I wrote a dev post about this](http://fionamacneill.co.uk/blog/2017/01/09/new-files-added-to-support-the-contact-form/), but _yes_ the contact form is now working as it should. I just need to enhance the warning/alert aspects and add aria labels etc. And so does the back-to-top the button as in it only appears when one is sufficiently far from the top of the page for it to be useful. [This took a couple of iterations of code to get right](http://fionamacneill.co.uk/blog/2017/01/18/got-rid-of-some-extras-and-wrote-some-new-script/).

### Finally...

I had come up with a CSS style for reference sections and I decided to add it to this journal as well as part of my custom child theme. I am going to _try_ (time allowing) to add it to my all my posts retroactively, but it is a big job and I have surprised myself at the sheer number of posts that I have amassed here in the past few months.

#### References

Coyier, C. (2013, March 5). Using SVG \[Blog post\]. Retrieved from [https://css-tricks.com/using-svg/](https://css-tricks.com/using-svg/)

DuckDuckGo. (2014, February 20). About DuckDuckGo. Retrieved January 15, 2017, from DuckDuckGo.com website: [https://duckduckgo.com/about](https://duckduckgo.com/about)

Mary Lou. (2012, February 21). Accordion with CSS3 \[Blog post\]. Retrieved from [https://tympanus.net/codrops/2012/02/21/accordion-with-css3/](https://tympanus.net/codrops/2012/02/21/accordion-with-css3/)

metafizzy. (2016). Options. Retrieved January 15, 2017, from metafizzy website: [http://flickity.metafizzy.co/options.html#prevnextbuttons](http://flickity.metafizzy.co/options.html#prevnextbuttons)

Sowmya. (2013). Re: Nesting an svg inside a div \[Online forum comment\]. Retrieved from StackOverflow website: [http://stackoverflow.com/questions/15474306/nesting-an-svg-inside-a-div](http://stackoverflow.com/questions/15474306/nesting-an-svg-inside-a-div)
